<!DOCTYPE html>


<html lang="es" data-bs-theme="light">


<head>


    <meta charset="UTF-8" />


    <meta name="viewport" content="width=device-width, initial-scale=1.0" />


    <title>Canciones — API Álbumes y Láminas</title>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />


    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" />


    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />


    <link rel="stylesheet" href="/css/canciones.css" />


</head>


<body>





<!-- NAVBAR -->


<nav id="mainNav" class="navbar navbar-expand-lg sticky-top py-2">


    <div class="container">


        <a class="navbar-brand" href="/"><span class="brand-dot"></span>&#193;lbumes &amp; L&#225;minas</a>


        <div class="collapse navbar-collapse">


            <ul class="navbar-nav mx-auto gap-1">


                <li class="nav-item"><a class="nav-link px-3" href="/">Home</a></li>


                <li class="nav-item"><a class="nav-link px-3 active" href="/canciones.html"><i class="bi bi-music-note me-1"></i>Canciones</a></li>


                <li class="nav-item"><a class="nav-link px-3" href="/swagger-ui.html">Swagger</a></li>


            </ul>


        </div>


        <div class="d-flex align-items-center gap-2">


            <div class="theme-toggle" id="themeToggle" title="Cambiar entre modo noche y día" role="button" aria-label="Cambiar tema">


                <i class="bi bi-sun-fill toggle-icon sun"></i>


                <div class="toggle-track">


                    <div class="toggle-thumb"></div>


                </div>


                <i class="bi bi-moon-stars-fill toggle-icon moon"></i>


            </div>


        </div>


    </div>


</nav>





<div class="container py-4" style="position:relative;z-index:1;">





    <!-- HEADER -->


    <div class="d-flex align-items-center justify-content-between flex-wrap gap-3 mb-4">


        <div>


            <div class="page-title mb-1"><i class="bi bi-music-note-beamed me-2" style="-webkit-text-fill-color:var(--primary)"></i>Canciones</div>


            <p class="text-secondary mb-0" style="font-size:.9rem;">CRUD completo sobre <code>GET/POST/PUT/DELETE /api/canciones</code></p>


        </div>


        <button class="btn btn-emerald" data-bs-toggle="modal" data-bs-target="#modalForm" onclick="openCreate()">


            <i class="bi bi-plus-lg me-1"></i>Nueva canción


        </button>


    </div>





    <!-- SEARCH + LIST -->


    <div class="g-card mb-4">


        <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3">


            <h6 class="fw-bold mb-0"><i class="bi bi-list-ul me-2 text-success"></i>Lista de canciones</h6>


            <div class="d-flex gap-2 flex-wrap">


                <div class="search-wrap">


                    <i class="bi bi-search"></i>


                    <input id="searchInput" type="text" class="form-control form-control-sm" placeholder="Buscar por artista…" style="width:200px;" oninput="onSearch(this.value)" />


                </div>


                <button class="btn btn-outline-dim btn-sm" onclick="cargarCanciones()"><i class="bi bi-arrow-clockwise me-1"></i>Actualizar</button>


            </div>


        </div>


        <div class="table-responsive">


            <table class="cancion-table">


                <thead>


                    <tr>


                        <th style="width:50px">#</th>


                        <th>Título</th>


                        <th>Artista</th>


                        <th>Duración</th>


                        <th>Género</th>


                        <th style="width:80px">Acciones</th>


                    </tr>


                </thead>


                <tbody id="tableBody">


                    <tr id="loadingRow"><td colspan="6"><span class="spinner-border spinner-border-sm text-success me-2"></span>Cargando…</td></tr>


                </tbody>


            </table>


        </div>


        <div id="emptyState" class="empty-state d-none">


            <i class="bi bi-music-note d-block"></i>


            <div class="fw-semibold mb-1">Sin canciones</div>


            <p class="mb-0 small">Crea una nueva canción con el botón de arriba.</p>


        </div>


        <div id="countBadge" class="mt-2 text-secondary" style="font-size:.78rem;"></div>


    </div>


</div>





<!-- MODAL FORM -->


<div class="modal fade" id="modalForm" tabindex="-1">


    <div class="modal-dialog modal-dialog-centered">


        <div class="modal-content modal-content-inner" style="background:rgba(11,18,40,.55);backdrop-filter:blur(24px) saturate(1.5);-webkit-backdrop-filter:blur(24px) saturate(1.5);border:1px solid rgba(255,255,255,.13);border-radius:18px;box-shadow:0 20px 60px rgba(0,0,0,.5);transition:background .35s,border-color .25s;">


            <div class="modal-header border-0 pb-0">


                <h5 class="modal-title fw-bold" id="modalTitle">Nueva canción</h5>


                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>


            </div>


            <div class="modal-body">


                <form id="cancionForm" novalidate>


                    <input type="hidden" id="editId" />


                    <div class="mb-3">


                        <label class="form-label">Título <span class="text-danger">*</span></label>


                        <input id="fTitulo" type="text" class="form-control" placeholder="Ej: Bohemian Rhapsody" maxlength="150" required />


                        <div class="invalid-feedback">El título es obligatorio.</div>


                    </div>


                    <div class="mb-3">


                        <label class="form-label">Artista <span class="text-danger">*</span></label>


                        <input id="fArtista" type="text" class="form-control" placeholder="Ej: Queen" maxlength="100" required />


                        <div class="invalid-feedback">El artista es obligatorio.</div>


                    </div>


                    <div class="row g-2">


                        <div class="col-6">


                            <label class="form-label">Duración (seg)</label>


                            <input id="fDuracion" type="number" class="form-control" placeholder="Ej: 354" min="1" max="86400" />


                        </div>


                        <div class="col-6">


                            <label class="form-label">Género</label>


                            <input id="fGenero" type="text" class="form-control" placeholder="Ej: Rock" maxlength="80" />


                        </div>


                    </div>


                </form>


            </div>


            <div class="modal-footer border-0 pt-0">


                <button type="button" class="btn btn-outline-dim btn-sm" data-bs-dismiss="modal">Cancelar</button>


                <button type="button" class="btn btn-emerald btn-sm" id="btnGuardar" onclick="guardar()">


                    <i class="bi bi-check-lg me-1"></i>Guardar


                </button>


            </div>


        </div>


    </div>


</div>





<!-- TOAST -->


<div class="toast-container position-fixed bottom-0 start-50 translate-middle-x pb-3">


    <div id="appToast" class="toast align-items-center border-0" role="alert">


        <div class="d-flex">


            <div class="toast-body fw-semibold" id="toastMsg"></div>


            <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast"></button>


        </div>


    </div>


</div>





<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>


<script src="/js/canciones.js"></script>


</body>


</html>





